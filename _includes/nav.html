<header class="site-header">
    <nav class="site-nav font-ui">
      <!-- left -->
      <a class="internal-link plain site-brand" href="{{ site.baseurl }}/">{{ site.title }}</a>
  
      <!-- right -->
      <div class="site-links">
        <a href="/about" class="internal-link muted plain">about</a>
        <a href="/now"   class="internal-link muted plain">now</a>
        <button id="theme-toggle" title="toggle dark mode" aria-label="toggle dark mode" type="button" role="switch">
          <div class="theme-toggle-slide"></div>
          <div class="theme-toggle-switch"></div>
        </button>
      </div>
    </nav>
  </header>
  
  <!-- theme toggle logic -->
  <script>
  (function () {
    const root = document.documentElement;
    const btn  = document.getElementById('theme-toggle');
  
    function setMode(mode) {
      root.classList.toggle('theme-dark', mode === 'dark');
      btn.setAttribute('aria-checked', String(mode === 'dark'));
      localStorage.theme = mode;
    }
  
    const initial = localStorage.theme
      ? localStorage.theme
      : (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
    setMode(initial);
  
    btn.addEventListener('click', () => {
      setMode(root.classList.contains('theme-dark') ? 'light' : 'dark');
    });
  })();
  </script>